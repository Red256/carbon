<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&family=Lugrasimo&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CO2 Emission Counter</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
            overflow-x: hidden; /* Prevent scrolling initially */
            background-color: #dddddd;
        }
        hr.thicc {
            height: 5px;
            background-color: #5b5b5b;
            margin: 3em 0;
        }
        hr {
            margin: 3em 0;
        }
        .full-screen:nth-of-type(n+5) > :first-child {
            color: rgb(0, 68, 84);
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .overlay img {
            max-height: 90%;
            max-width: 90%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            border-radius: 5px;
        }
        .navbar {
            list-style-type: none;
            margin: 0;
            overflow: hidden;
            background-color: #b4dbe1;
            position: fixed;
            z-index: 4;
            width: 100%;
            padding: 0;
        }
        .navbar > li {
            float: right;
            padding: 0px 0.7vw;
            height: 73px;
            display: flex;
            flex-wrap: wrap;
            font-size: 17px;
            align-content: center;
        }
        .navbar a {
            float: right;
            display: block;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            background: rgb(0, 105, 132);
            color: white;
        }
        .navbar a:hover {
            background-color: #111;
        }
        #counterSection {
            background: url('https://img.freepik.com/premium-photo/planet-earth-europe-elements-this-image-furnished-by-nasa-3d-rendering_924688-4761.jpg?w=1380') no-repeat center center fixed;
            background-size: cover;
            position: relative;
        }
        .full-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: auto;
            background-color: white;
            margin: 25px 0;
            scroll-margin-top: 73px;
            width: 100%;
            flex-direction: column;
        }
        .container {
            text-align: center;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 2vh;
            border-radius: 10px;
            width: 80%;
            position: relative;
            z-index: 2;
        }
        .title {
            font-size: min(56px,4.3vw,5.5vh);
            margin-bottom: min(20px,1.54vw,1.54vh);
        }
        .number-box {
            font-size: 4.5em;
            margin-bottom: 10px;
        }
        .scrollDown {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: white solid 5px;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.5em;
            z-index: 3;
            transition: opacity 1s ease-in;
            margin-block-start: 1vh;
        }
        .photobanner {
            display: flex;
            margin-bottom: 0;
            margin-top: 30px;
            padding: 2vh;
            width: 100%;
            animation: scroll 20s linear infinite;
        }
        @keyframes scroll {
            from {
                transform: translateX(0);
            }
            to {
                transform: translateX(calc(-192vh - 320px));
            }
        }
        .photobanner img {
            border-radius: 20px;
            display: inline-block;
            width: 24vh;
            margin: 10px 20px;
            object-fit: cover;
            transition: all .5ms ease;
        }
        #placeholderSection {
            background: url('https://teamtrees.org/img/header.png') no-repeat center calc(100% + 150px);
            background-size: cover;
            overflow: hidden;
            background-color: #b4dbe1;
            background-color: rgba(180,219,225);
        }
        .placeholder {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 1200px;
            text-align: left;
            margin: 50px;
        }
        .placeholder-header {
            font-size: 1em;
            margin: 0 0 0.3em 0;
        }
        .bullet-points {
            list-style: disc;
            font-size: min(24px,2vw);
            margin-bottom: 10px;
            position: relative;
        }
        .details {
            background: #f1f1f1;
            padding: 10px;
            border-radius: 15px;
            border: 2px solid #00592f;
            margin: 10px 0;
            font-size: 25px;
        }
        .details > p {
            margin: 12px 0 0 0;
            font-size: 0.9em;
        }
        .details2 {
            background: white;
            border-radius: 15px;
            border: 2px solid #00592f;
            margin: 10px 0;
            font-size: 20px;
            padding: 22px;
        }
        .details2 li {
            margin-bottom: 10px;
        }
        .placeholder span {
            width: 50px;
            height: 50px;
            margin: 20px;
            font-size: 2em;
            display: inline-block;
            text-align: center;
            color: white;
            line-height: 50px;
            font-weight: bold;
            border-radius: 50%;
            background-color: #00592f;
        }
        .easy-button2 {
            font-size: 1.5em;
            padding: 10px 20px 30px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            margin-left: 20px;
            width: 60%;
            display: flex;
            justify-content: center;
            height: min-content;
            flex-direction: column;
        }
        #newSection {
            display: block;
            padding: 20px; /* Padding around the content for better spacing */
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }
        .topHalf > img {
            height: 31px;
            margin-right: 8px;
        }
        .topHalf > span {
            font-size: 1.6em;
            margin-top: 0.83em;
            margin-left: 0;
            margin-right: 0;
            font-weight: bold;
        }
        .topHalf {
            display: flex;
        }
        .grid-img {
            width: min(14vw,165px);
            height: auto; /* Adjust height automatically */
        }
        .modelimgs img, .modelimgs p:nth-child(6n-5) {
            padding: 5px;
            font-size: 1.3em;
            width: calc(16vw - 10px);
        }
        .modelimgs > * {
            width: 16vw;
        }
        .modelimgs div:has(h2), .modelimgs div:has(h3) {
            display: flex;
            align-items: center;
        }
        .modelimgs div, .modelimgs p:nth-child(6n-5) {
            margin: 0;
            border: 1px solid black;
        }
        .modelimgs p:not(.modelimgs p:nth-child(6n-5)) {
            font-size: 1.2em;
            margin: 5px;
            text-align: center;
        }
        .modelimgs h2, .modelimgs h3 {
            text-align: center;
            margin: auto;  
        }
        .details ul {
            margin-block-start: 0;
        }
        .smaller > li {
            font-size: 0.9em;
            line-height: 1.5em;
        }
        .smaller b {
            font-size: 1.1em;
        }
        .infoPanel {
            padding: 10px;
            box-sizing: border-box;
            border: 1px #ccc;
            height: 100%;
        }
        div.infoPanel:nth-child(odd) {
            border-style: solid none solid solid ;
        }
        div.infoPanel:nth-child(even) {
            border-style: solid solid solid none;
            font-size: 1.4em;
        }
        .infoPanel p {
            padding: 20px;
            font-size: 0.9em;
            line-height: 1.8em;
        }
        div {
            font-family: "Roboto", sans-serif;
            font-weight: 400;
            font-style: normal;
        }
        .aops {
            background-color: #cdeef1;
            padding: 8px 16px;
            border-radius: 10px;
            width: fit-content;
        }
        .details2 u {
            font-size: 1.1em;
            font-family: "Open Sans", sans-serif;
            color: rgb(0, 68, 84);
            text-decoration: none;
        }
        #summary p, #recommendations p {
            margin-top: 0;
        }
        .carousel-container {
            position: relative;
            width: 100%;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .carousel-inner {
            display: flex;
            transition: transform 0.5s ease-in-out;
            width: 100%;
        }
        .carousel-item {
            min-width: 100%;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: stretch;
        }
        .carousel-dots {
            position: absolute;
            bottom: 0px;
            display: flex;
            justify-content: center;
            width: 100%;
        }
        .carousel-dots button {
            background-color: #ddd;
            border: none;
            border-radius: 50%;
            width: 15px;
            height: 15px;
            margin: 0 5px;
            cursor: pointer;
        }
        .carousel-dots button.active {
            background-color: #4CAF50;
        }
        .imggrid > span, .imggrid > div {
            border: 1px #ccc;
            width: calc(100% - 40px);
            height: calc(100% - 40px);
            padding: 20px;
            font-size: 0.9em;
            line-height: 1.8em;
        }
        /* Enlarge button styling */
        .enlarge-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: url('https://i.imgur.com/VNL1MLu.png') no-repeat center;
            background-size: contain; /* Ensures the background image fits within the button */
            border: none;
            width: 20px; /* Adjust size as needed */
            height: 20px; /* Adjust size as needed */
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: background 0.3s;
            background-color: white;
        }
        .enlarge-button:hover {
            background-color: rgba(200, 200, 200, 0.5); /* Add a hover effect */
        }
        .imggrid img {
            margin: 0.5em;
            max-width: 100%;
            max-height: 100%;
        }
        .imggrid > div {
            border-style: solid none solid solid;
        }
        .imggrid > span {
            border-style: solid solid solid none;
        }
        .imggrid {
            font-size:1.3em;
            display:grid;
            grid-template-columns:50% 50%;
            width:95%
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }
    </style>
</head>
<body>
    <ul class="navbar">
        <li style="float: left;"><img src="https://i.imgur.com/0UgSDtN.png" style="height: 56px;"></li>
        <li><a href="#recommendations">Recommendations</a></li>
        <li><a href="#summary">Summary</a></li>
        <li><a href="#temporal">Temporal Shifting</a></li>
        <li><a href="#spatial">Spatial Shifting</a></li>
        <li><a href="#newSection">Model Choice</a></li>
        <li><a href="#placeholderSection">Overview</a></li>
    </ul>
    <div class="overlay" id="overlay">
        <img id="overlay-image" alt="Enlarged">
    </div>
    <div class="full-screen" id="counterSection" style="justify-content: flex-start; height: 100vh;">
        <div class="photobanner">
            <img src="https://i.imgur.com/tBqQDmn.png" alt="">
            <img src="https://i.imgur.com/TXh1DH4.png" alt="">
            <img src="https://i.imgur.com/pkwSdOj.png" alt="">
            <img src="3/5.png" alt="">
            <img src="3/2.png" alt="">
            <img src="2/10.png" alt="">
            <img src="2/9.png" alt="">
            <img src="2/4.png" alt="">
            <img src="https://i.imgur.com/tBqQDmn.png" alt="">
            <img src="https://i.imgur.com/TXh1DH4.png" alt="">
            <img src="https://i.imgur.com/pkwSdOj.png" alt="">
            <img src="3/5.png" alt="">
            <img src="3/2.png" alt="">
            <img src="2/10.png" alt="">
            <img src="2/9.png" alt="">
            <img src="2/4.png" alt="">
        </div>
        <div class="container title">
            <span>Approximately 34 million AI-generated images<br>are created <span style="color:#fcd94c;">every day</u></span>, </span>
            <span>releasing over<br><span style="color:#fcd94c; font-family: 'Lugrasimo', cursive;">120,000</span> pounds of CO<sub style="font-size:24px;">2</sub><br><p class="info" style="font-size: 14px; color: lightgrey; margin: 0;">Data from Hugging Face and CMU research</p></span>
            <span style="color:#adff9d">BUT, we can take action to reduce that</span>
        </div>
        <p class="scrollDown" id="scrollDown">Scroll Down to Learn More</p>
    </div>
    <div class="full-screen" id="placeholderSection" style="scroll-padding-top:234324px">
        <p style="font-size:1.5em; width:80%; margin:50px 50px 0 50px; max-width:1200px; background-image: linear-gradient(to right, rgb(33, 176, 192), rgb(0, 68, 84)); color:white;" class="aops"><i>Hi! My name is Alvin Chen. I created this website to share my research on <b>"Reducing Carbon Emissions in AI Image Generation at the Inference Stage."</b></i></p>
        <div class="placeholder">
            <h2 style="margin-top:0.4em">There are four major factors that influence carbon emissions by AI image generation models:</h2>
            <div style="display:grid; grid-template-columns: 80px calc(100% - 260px);">
                <span>1</span><div class="details"><b>Model</b><p>The model used to generate the image affects the number of operations necessary to complete the image generation. Along with the GPU choice, the model choice determines how much energy is consumed during generation.</p></div>
                <span>2</span><div class="details"><b>GPU</b><p>The GPU used to generate the image affects the speed at which the operations are processed as well as the power usage. Along with the model choice, the GPU choice determines how much energy is consumed during generation.</p></div>
                <span>3</span><div class="details"><b>Location</b><p>The carbon intensity is defined as the amount of greenouse gas emissions per unit of energy consumed. The location where the image is generated affects the carbon intensity of image generation since some regions have an energy mix containing more clean energy sources than others.</p></div>
                <span>4</span><div class="details"><b>Time</b><p>The time when the image is generated also affects the carbon intensity of image generation due to the inherent variability of renewable energy caused by the unpredictability of weather conditions. For example, when it's cloudy, carbon intensity increases since less solar energy would be produced and more fossil fuels would have to be burned.</p></div>
            </div>
            <hr>
            <div style="display:flex;justify-content:center">
                <div style="width:70%">
                    <p style="font-size: 25px; margin: 0 0 1.5vh 0">To calculate the carbon emissions from AI image generation, use this formula:</p>
                    <b style="font-size:25px">Power Consumption x Time x Carbon Intensity</b>
                    <ul style="font-size: min(25px, 1.3vw); margin-top:1.5vh">
                        <li>Power consumption is measured in watts. Different GPUs consume different amounts of power. For example, the A10 GPU consumes up to 150 watts of power, while the H100 GPU consumes up to 700 watts of power.</li>
                        <br><li>Time is the number of seconds it takes to generate the image. The longer it takes, the more energy it consumes, and the higher the emissions are.</li>
                        <br><li>Carbon intensity is measured in grams of CO<sub>2</sub>-equivalent per kilowatt-hour. Areas using renewable energy like wind and solar have lower carbon intensity, while those relying on fossil fuels have higher values.</li>
                    </ul>
                </div>
                <div class="easy-button2">
                    <p class="placeholder-header">Here's a short video with a more in-depth explanation of the formula.</p>
                    <iframe src="https://www.youtube.com/embed/9xDJTxSXwXE" height="350vh" width="100%"></iframe>
                </div>
            </div>
        </div>
    </div>
    <div id="newSection" class="full-screen">
        <h2 style="text-align: center; margin-block-start: 0;">Comparison of Five Popular Open-source Image Generation Models</h2>
        <p class="aops" style="font-size:1.4em">Image Scoring Criteria:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - Unacceptable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - Could use some work&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - Acceptable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4 - Almost there&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 - Accurate to the prompt</p>
        <div class="modelimgs" style="display:grid;grid-template-columns: repeat(6, 16vw)">
            <div><h2>Prompt</h2></div>
            <div><h3>DeepFloyd / IF-I-XL-v1.0</h3></div>
            <div><h3>Black Forest Labs / FLUX.1 [dev]</h3></div>
            <div><h3>StabilityAI / SD-XL 1.0-base</h3></div>
            <div><h3>StabilityAI / Stable Diffusion 3 Medium</h3></div>
            <div><h3>Lykon / DreamShaper</h3></div>
            <p>1. A bustling medieval marketplace with people in period clothing, merchants selling goods from wooden stalls, and a castle looming in the background.</p>
            <div><img src="4/3.png"><p>Score: 3</p></div>
            <div><img src="1/3.png"><p>Score: 5</p></div>
            <div><img src="0/3.png"><p>Score: 4</p></div>
            <div><img src="3/3.png"><p>Score: 5</p></div>
            <div><img src="2/3.png"><p>Score: 4</p></div>
            <p>2. A mystical forest with glowing mushrooms, towering ancient trees, and a crystal-clear stream running through it. The sky is filled with vibrant auroras.</p>
            <div><img src="4/1.png"><p>Score: 2</p></div>
            <div><img src="1/1.png"><p>Score: 5</p></div>
            <div><img src="0/1.png"><p>Score: 5</p></div>
            <div><img src="3/1.png"><p>Score: 5</p></div>
            <div><img src="2/1.png"><p>Score: 5</p></div>
            <p>3. A futuristic city with towering skyscrapers made of glass and metal, flying cars zooming by, and a vibrant, bustling marketplace filled with alien creatures.</p>
            <div><img src="4/2.png"><p>Score: 2</p></div>
            <div><img src="1/2.png"><p>Score: 4</p></div>
            <div><img src="0/2.png"><p>Score: 3</p></div>
            <div><img src="3/2.png"><p>Score: 5</p></div>
            <div><img src="2/2.png"><p>Score: 4</p></div>
            <p>4. A colorful, swirling pattern of geometric shapes and lines, with a focus on bright blues, reds, and yellows, evoking a sense of motion and energy.</p>
            <div><img src="4/4.png"><p>Score: 4</p></div>
            <div><img src="1/4.png"><p>Score: 4</p></div>
            <div><img src="0/4.png"><p>Score: 4</p></div>
            <div><img src="3/4.png"><p>Score: 5</p></div>
            <div><img src="2/4.png"><p>Score: 3</p></div>
            <p>5. A detailed, realistic portrait of a young woman with curly hair, wearing a vintage dress, sitting by a window with soft sunlight illuminating her face.</p>
            <div><img src="4/5.png"><p>Score: 4</p></div>
            <div><img src="1/5.png"><p>Score: 5</p></div>
            <div><img src="0/5.png"><p>Score: 5</p></div>
            <div><img src="3/5.png"><p>Score: 5</p></div>
            <div><img src="2/5.png"><p>Score: 5</p></div>
            <p>6. A serene lakeside scene at dawn, with mist rising from the water, a family of ducks swimming by, and a fisherman in a small boat casting his line.</p>
            <div><img src="4/6.png"><p>Score: 1</p></div>
            <div><img src="1/6.png"><p>Score: 5</p></div>
            <div><img src="0/6.png"><p>Score: 4</p></div>
            <div><img src="3/6.png"><p>Score: 5</p></div>
            <div><img src="2/6.png"><p>Score: 4</p></div>
            <p>7. A gritty city street with vibrant graffiti covering the walls, a breakdancer performing in the foreground, and bystanders watching and taking pictures.</p>
            <div><img src="4/7.png"><p>Score: 2</p></div>
            <div><img src="1/7.png"><p>Score: 5</p></div>
            <div><img src="0/7.png"><p>Score: 3</p></div>
            <div><img src="3/7.png"><p>Score: 3</p></div>
            <div><img src="2/7.png"><p>Score: 2</p></div>
            <p>8. A majestic dragon with shimmering scales, large wings, and piercing eyes, perched on a mountain peak with a stormy sky in the background.</p>
            <div><img src="4/8.png"><p>Score: 2</p></div>
            <div><img src="1/8.png"><p>Score: 4</p></div>
            <div><img src="0/8.png"><p>Score: 4</p></div>
            <div><img src="3/8.png"><p>Score: 5</p></div>
            <div><img src="2/8.png"><p>Score: 4</p></div>
            <p>9. A dream-like scene with floating islands, a giant clock melting over a tree branch, and a man in a suit with a fishbowl for a head walking on a checkerboard path.</p>
            <div><img src="4/9.png"><p>Score: 1</p></div>
            <div><img src="1/9.png"><p>Score: 4</p></div>
            <div><img src="0/9.png"><p>Score: 2</p></div>
            <div><img src="3/9.png"><p>Score: 3</p></div>
            <div><img src="2/9.png"><p>Score: 3</p></div>
            <p>10. A dynamic action scene with a superhero in a colorful costume flying through the air, about to clash with a menacing villain, with bold lines and vibrant colors.</p>
            <div><img src="4/10.png"><p>Score: 3</p></div>
            <div><img src="1/10.png"><p>Score: 5</p></div>
            <div><img src="0/10.png"><p>Score: 4</p></div>
            <div><img src="3/10.png"><p>Score: 5</p></div>
            <div><img src="2/10.png"><p>Score: 4</p></div>
        </div>
    </div>
    <div class="full-screen">
        <div style="width:95%">
            <p class="aops" style="font-size:1.4em;">To evaluate the impact of model choice on carbon emissions, let's analyze the properties of these AI image generation models.</p>
        </div>
        <div style="display: grid;grid-template-columns: min(50vw,800px) min(45vw,650px);">
            <div class="infoPanel">
                <div class="topHalf">
                    <img src="https://i.imgur.com/UsBBhjk.png" class="model-icon">
                    <span id="modelHeader" style="margin-block-start: 0em;">DeepFloyd / IF-I-XL-v1.0</span>
                </div>
                <br><br>
                <img src="https://i.imgur.com/mSays3n.png">
            </div>
            <div class="infoPanel">
                <p>A three-part image generation model developed by the AI research lab DeepFloyd, IF-I-XL-v1.0 is the slowest, most carbon-intensive model out of the 5, yet genereates low-quality images.</p>
            </div>
            <div class="infoPanel">
                <div class="topHalf">
                    <img class="model-icon" src="https://i.imgur.com/GF37IJ6.png">
                    <span id="modelHeader" style="margin-block-start: 0em;">Black Forest Labs / FLUX.1 [dev]</span>
                </div>
                <br><br>
                <img src="https://i.imgur.com/l0wR6C5.png">
            </div>
            <div class="infoPanel">
                <p>Black Forest Labs' most advanced open-source model yet, FLUX.1 [dev] creates very high-quality images, at the cost of significantly high emissions and slow response times.</p>
            </div>
            <div class="infoPanel">
                <div class="topHalf">
                    <img src="https://assets.wheelhouse.com/media/_solution_logo_04032024_26265377.png" class="model-icon">
                    <span id="modelHeader" style="margin-block-start: 0em;">StabilityAI / SD-XL 1.0-base</span>
                </div>
                <br><br>
                <img src="https://i.imgur.com/aCnW8aS.png">
            </div>
            <div class="infoPanel">
                <p>One of the latest Stable Diffusion models released, Stable Diffuxion XL 1.0 produces images of good quality at a fast speed. However, it is very carbon-intensive and slightly worse than Stable Diffusion 3 Medium in all aspects, so it is not recommended to use this model.</p>
            </div>
            <div class="infoPanel">
                <div class="topHalf">
                    <img src="https://assets.wheelhouse.com/media/_solution_logo_04032024_26265377.png" class="model-icon">
                    <span id="modelHeader" style="margin-block-start: 0em;">StabilityAI / Stable Diffusion 3 Medium</soan>
                </div>
                <br><br>
                <img src="https://i.imgur.com/jmP2AzK.png">
            </div>
            <div class="infoPanel">
                <p>Another one of the latest Stable Diffusion models released, Stable Diffusion 3 Medium has wonderful image quality while being decently fast, though its carbon emissions are somewhat high.</p>
            </div>
            <div class="infoPanel">
                <div class="topHalf">
                    <img src="https://cdn-avatars.huggingface.co/v1/production/uploads/63b4b97558f367a212c4763c/lysGnwvZPfKxzMyPBeZf1.jpeg" class="model-icon">
                    <span id="modelHeader" style="margin-block-start: 0em;">Lykon / DreamShaper</span>
                </div>
                <br><br>
                <img src="https://i.imgur.com/cssmT5P.png">
            </div>
            <div class="infoPanel">
                <p>An improved and fine-tuned version of Stable Diffusion 1.5, DreamShaper is very carbon-efficient while generating images with good quality. I highly recommend this model to all users.</p>
            </div>
        </div>
        <p style="width:95%; margin: 50px 0 30px;"><span class="aops" style="font-size:1.5em;">Data Collection and Results Table:</span></p>
        <div class="imggrid">
            <div>
                <b>Emissions Data for SD-XL 1.0-base</b>
                <img src="https://i.imgur.com/BB8ewVF.png">
            </div>
            <span><br>This screenshot displays part of the emissions.csv file, which was used to collect data from different models. Specifically, the image shows all the data collected for one model, SD-XL 1.0-base.</span>
            <div>
                <b>Example of Data Collected</b>
                <img src="https://i.imgur.com/5HrIvxP.png">
            </div>
            <span><br>The screenshot displays all the data collected per image generated, including the average power consumption, the number of seconds the image took to generate, the carbon intensity of the server used, the zone of the server used, the time the image was generated, and finally the emissions from the image generation.</span>
            <div>
                <b>Results Data Table</b>
                <img src="https://i.imgur.com/Zas8GIY.png">
            </div>
            <span><br>This data table contains the final results for each model. The three columns highlighted in green demonstrate a clear positive correlation between model size and energy consumption. The two green columns labeled energy also show that the H100 has lower emissions compared to the A100.</span>
        </div>
    </div>
    <div class="full-screen" id="spatial">
        <h1>Spatial Shifting: Simulations and Findings</h1>
        <div class="imggrid">
            <div>
                <b>Carbon Intensity and Population Comparison Across Key Server Regions</b>
                <img style="width:50%" src="https://i.imgur.com/bWrhNhX.png">
            </div>
            <span><br>This table compares the average carbon intensity, standard deviation in carbon intensity, and population data for the ten recommended regions. All ten regions have either a Google Cloud, Microsoft Azure, or Amazon AWS server present. Every continent has at least 2 servers to avoid a single point of failure.</span> 
            <div>
                <b>Comparison of Actual vs. Expected Request Time Distribution Using Gaussian Mixture (GMT)</b>
                <img src="https://i.imgur.com/J9HQp3a.png">
            </div>
            <span><br>This graphic illustrates the Gaussian distribution utilized in the request generator. The histogram (blue) represents the actual number of requests generated per hour over the course of the day in GMT, while the red curve depicts the expected distribution modeled using a Gaussian mixture. This alignment demonstrates how the Gaussian distribution underpins the temporal allocation of requests in the simulation.</span>
            <div>
                <b>Request Location Distribution Across U.S. Regions</b>
                <img src="https://i.imgur.com/EPIM1Ad.png">
            </div>
            <span><br>This bar chart illustrates the locational distribution of the 1 million requests by the request generator. Areas with greater populations, such as California and Texas, have many more requests than areas with lower populations such as Alaska or Maine.</span>
            <div>
                <b>Standard Deviation in Carbon Intensity Across Complete Zones</b>
                <img src="https://i.imgur.com/czVwAr7.png">
            </div>
            <span><br>This bar chart displays the standard deviation in carbon intensity data across complete zones, where each zone is represented on the x-axis. Zones with higher standard deviations on the left side of the chart exhibit significant temporal variability in carbon intensity, suggesting a greater potential for temporal shifting.</span>
            <div>
                <b>Relationship Between Queueing Delay and Processing Rate</b>
                <img src="https://i.imgur.com/odHNn2A.png">
            </div>
            <span><br>This chart shows an inverse relationship: as the number of requests processed per second increases, the average queueing delay decreases. At low processing rates, the queuing delay is very high. As the processing rate improves, the delay drops significantly, approaching zero. This chart could be used to determine the optimal processing capacity required to minimize delays and reduce user wait times.</span>
            <div>
                <b>Temporal Distribution of Requests in Sweden Using Regional Spatial Shifting</b>
                <img src="https://i.imgur.com/sMOIGGl.png">
            </div>
            <span><br>This graph illustrates the number of requests received by Sweden per second during a simulation of regional spatial shifting. The data shows that Sweden experienced a peak load of <strong>14 requests per second</strong>, occurring around noon (between 40,000 and 60,000 seconds after the day started). Understanding this peak load can help companies determine the number of GPUs required in a server to process user requests without delays. For example, if all the requests were for the <strong>Lykon / Dreamshaper model</strong>, which the H100 GPU processes in 1.2 (6/5) seconds, each GPU can handle 5/6 requests every second. To process 14 requests per second without queueing, the calculation is:<br><code>GPUs required = 14 / (5/6) = 16.8</code><br>Rounding up, <strong>17 H100 GPUs</strong> would be needed to handle all of Sweden's requests without introducing a queuing delay.</span>
            <div>
                <b>Visual Representation of Spatial Shifting</b>
                <img src="https://i.imgur.com/dATytsb.png" style="width:75%">
            </div>
            <span><br>As India had higher carbon intensity than other areas in Asia, requests from India were shifted to Japan or Singapore in the regional spatial shifting, depending on which zone had lower carbon intensity at the time of the request.</span>
            <div>
                <b>Potential Carbon Savings Through Spatial Shifting</b>
                <img src="https://i.imgur.com/We8JOvb.png" style="width:50%">
            </div>
            <span><br>Spatial shifting proved effictive in lowering carbon emissions  â€” global shifting achieved a 97% reduction, while regional shifting achieved a 39% reduction.<br>Although global spatial shifting can significantly reduce carbon emissions, it may be limited by government restrictions. Regional shifting could be a good option because it can (1) avoid single point of failure (2) improve quality of service (3) satisfy government regulations in terms of data locality.</span>
        </div>
    </div>
    <div class="full-screen" id="temporal">
        <h1>Temporal Shifting: Analysis and Findings</h1>
        <div class="imggrid">
            <div>
                <b>Carbon Intensity Over Time of Germany, California, and New York</b>
                <img src="https://i.imgur.com/hykCoTm.png">
            </div>
            <span><br>This line chart illustrates the standard deviation in carbon intensity data for Germany, California, and New York, highlighting regions with significant variability. Regions such as Germany (DE) and California (US-CAL-CISO) demonstrate relatively high standard deviations, indicating large fluctuations in carbon intensity over time and clear potential for temporal shifting. </span>
            <div>
                <b>Carbon Intensity Trend in California</b>
                <img src="https://i.imgur.com/YmfHNno.png">
            </div>
            <span><br>As can be seen from the graph, carbon intensity is lowest in California in the morning and afternoon from around 8 AM to 4 PM. This is because more renewable energy such as solar power is available during this period. This indicates that implementing temporal shifting would be a good strategy for reducing carbon emissions in California.</span>
            <div>
                <b>Carbon Intensity Trend in Texas</b>
                <img src="https://i.imgur.com/hWWfU8L.png">
            </div>
            <span><br>Carbon intensity in Texas displays a similar trend to California's, with lower carbon intensity in the morning and afternoon from around 8 AM to 4 PM, with an outlier at 11 PM. The outlier may be the result of brief strong winds that allowed for much energy to be harnessed from wind farms. This indicates that implementing temporal shifting would be a good strategy for reducing carbon emissions in Texas.</span>
            <div>
                <b>Carbon Intensity Trend in New York</b>
                <img src="https://i.imgur.com/RGeTzzl.png">
            </div>
            <span><br>Unlike Texas and California, New York does not display the aforementioned trend of lower carbon intensity in the morning and afternoon. A possible reason for this is that New York employs fewer renewable energy sources than California or Texas. This indicates that temporal shifting technique may not be effective in New York.</span>
            <div>
                <b>Carbon Intensity Values Across Regions</b>
                <img src="https://i.imgur.com/rvUUtSK.png">
            </div>
            <span><br>This box plot showcases the carbon intensity values across various zones. While Sweden and France show the lowest carbon intensity, zones with wider ranges of carbon intensity, such as California and Texas, are more suitable for temporal shifting strategies, as the variability provides opportunities to shift energy-intensive tasks to periods of lower carbon intensity to reduce emissions.</span>
        </div>
    </div>
    <div class="full-screen" id="summary" style="padding:15px 30px;">
        <h1 style="width:100%;text-align: center;">Summary</h1>
        <div class="placeholder" style="background-color:#edfaff; margin-top:0;">
            <p style="font-size:1.6em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here are the key observations and findings from my research:</p>
            <div style="display:grid; grid-template-columns: 80px calc(100% - 260px);">
                <span>1</span>
                <div class="details2">
                    <u>The energy consumption of AI image generation can be reduced by selecting smaller image generation models and more powerful GPUs.</u>
                    <ul>
                        <li>Model choice has a large impact on energy consumption of AI generated images. In general, smaller models consume less energy. For example, the smallest model (DreamShaper) had 95% lower energy consumption than the largest model (IF-I-XL-v1.0) when using the A100 GPU.</li>
                        <li>More powerful GPUs (e.g. H100s) reduce the energy consumption of AI image generation. For instance, FLUX.1 [dev] has 18% lower energy consumption when using the H100 compared to the A100.</li>                        
                    </ul>
                </div>
                <span>2</span>
                <div class="details2">
                    <u>The carbon intensity of AI image generation can be reduced by employing spatial shifting or temporal shifting.</u>
                    <ul>
                        <li>Compared with the baseline data (no spatial shifting), global spatial shifting achieved a 97% reduction in carbon emissions, and regional spatial shifting achieved a 39% reduction.</li>
                        <li>Temporal shifting can save significant amounts of carbon, but the amount varies by region. California could save up to 77%, while Texas could save up to 59%.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="full-screen" id="recommendations" style="padding:15px 30px;">
        <h1 style="width:100%;text-align: center;">Recommendations</h1>
        <div class="placeholder" style="background-color:#edfaff; margin-top:0;">
            <p style="font-size:1.6em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here are the recommendations based on my research:</p>
            <div style="display:grid; grid-template-columns: 80px calc(100% - 260px);">
                <span>1</span>
                <div class="details2">
                    <u>Recommendations for Users generating images or Companies developing image generation models:</u>
                    <ul>
                        <li>Choose smaller, more carbon-efficient models. Note that it's possible for a small model to have good image quality, such as in the case of Lykon/Dreamshaper.</li>
                        <li>Use more powerful GPUs to generate images, such as the NVIDIA H100 instead of the A100.</li>
                        <li>Choose servers in lower carbon intensity regions, such as Sweden and France.</li>
                        <li>Use servers during times of lower carbon intensity, such as between 8 AM and 4 PM in California and Texas, especially for larger workloads.</li>
                    </ul>
                </div>
                <span>2</span>
                <div class="details2">
                    <u>Recommended Regions for Spatial Shifting (in increasing preference):</u>
                    <ul class="smaller">
                        <li><b>Europe: Sweden, France</b><br>Sweden and France consistently have the lowest carbon intensity in the world. For instance, Sweden's carbon intensity is 21 times lower than that of Germany. Choosing cloud services in these regions is an environmentally friendly option. Both Amazon (AWS) and Microsoft (Microsoft Azure) have servers in Sweden and France, whereas Google (Google Cloud) only operates a server in France.</li>
                        <li><b>America: California, New York, Texas</b><br>California, New York, and Texas are the regions with the lowest carbon intensity for server locations in the United States. Their large populations also ensure lower latency for a greater number of users. Among the major cloud providers, Amazon operates a server in California, Google has servers in California and Texas, and Microsoft has servers in all three regions.</li>
                        <li><b>Asia: Singapore, Japan, India</b><br>Singapore and Japan, while having higher carbon intensity compared to Europe and America, maintain relatively low carbon intensity levels within the Asia region. This makes them favorable choices for selecting GPU servers when considering carbon intensity. On the other hand, India, with its massive population, offers the advantage of lower latency times, making it another good option for GPU server deployment. Microsoft, Amazon, and Google all have servers in the three regions.</li>
                        <li><b>Oceania: New Zealand, Australia</b><br>New Zealand and Australia are the regions with the lowest carbon intensity in Oceania. In addition, both countries have large populations, making them ideal locations for deploying GPU servers to achieve lower latency for a broader user base. Amazon has servers in both regions, while Google and Microsoft only have servers in Australia.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Select all images inside the .imggrid container
        const images = document.querySelectorAll('.imggrid img, .infoPanel img:not(.topHalf img)');

        // Loop through each image and add an enlarge button
        images.forEach(img => {
            // Create a button
            const button = document.createElement('button');
            button.classList.add('enlarge-button');
            //button.innerHTML = 'ðŸ”'; // Add the magnifying glass emoji

            // Create a wrapper for the image and button
            const wrapper = document.createElement('div');
            wrapper.style.position = 'relative'; // Ensure proper positioning for the button
            wrapper.appendChild(img.cloneNode(true)); // Clone the image into the wrapper
            wrapper.appendChild(button); // Add the button to the wrapper

            // Replace the original image with the wrapper
            img.parentNode.replaceChild(wrapper, img);

            // Add the enlarge functionality to the button
            button.addEventListener('click', (e) => {
                const overlay = document.getElementById('overlay');
                const overlayImage = document.getElementById('overlay-image');
                overlay.style.display = 'flex'; // Show the overlay
                overlayImage.src = img.src; // Set the clicked image as the overlay image
                e.stopPropagation(); // Prevent click from propagating to other elements
            });
        });

        // Add event listener to close the overlay
        const overlay = document.getElementById('overlay');
        overlay.addEventListener('click', () => {
            overlay.style.display = 'none';
        });



        let modelsData = [
            ["stable-diffusion-xl-base-1.0", 0.26, 5140, 2.5, 0.63, "One of the latest Stable Diffusion models released, Stable Diffuxion XL 1.0 produces images of great quality at an acceptable speed. However, it is extremely carbon-intensive and slightly worse than Stable Diffusion 3 Medium in all aspects, so it is not recommended to use this model."],
            ["FLUX.1-dev", 0.71, 9980, 3, 1.56, "Black Forest Labs' most advanced open-source model yet, FLUX.1 [dev] creates extremely accurate and high-quality images, at the cost of extremely high emissions and very slow response times."],
            ["openjourney-v4", 0.05, 3440, 2, 0.18, "Trained on thousands of Midjourney v4 images with the intent of creating an open-source replica of Midjourney, Openjourney v4 is a very fast and rather carbon-efficient model with average image quality."],
            ["stable-diffusion-3-medium", 0.23, 4530, 2.5, 0.53, "Another one of the latest Stable Diffusion models released, Stable Diffusion 3 Medium has wonderful image quality while being decently fast, though its carbon emissions are somewhat high."],
            ["dreamlike-diffusion-1.0", 0.08, 1720, 2, 0.23, "A fine-tuned version of Stable Diffusion 1.5, Dreamlike Diffusion 1.0 is a very fast and carbon-efficient model with acceptable image quality. Thus, it is recommended to use this model for the best balance between image quality and carbon emissions."]
        ];


        star_imgs = ['https://uxwing.com/wp-content/themes/uxwing/download/arts-graphic-shapes/star-icon.png', 'https://uxwing.com/wp-content/themes/uxwing/download/arts-graphic-shapes/star-half-yellow-icon.png', 'https://uxwing.com/wp-content/themes/uxwing/download/arts-graphic-shapes/star-line-yellow-icon.png']
        
        function getStars(rating, type) {
            let result = '';
            for (let i = 0; i < 3; i++) {
                if (rating >= 1) {
                    result += `<img width="25" src="${star_imgs[0]}" />`;
                    rating -= 1;
                } else if (rating >= 0.5) {
                    result += `<img width="25" src="${star_imgs[1]}" />`;
                    rating -= 0.5;
                } else {
                    result += `<img width="25" src="${star_imgs[2]}" />`;
                }
            }
            return result;
        }
    </script>
</body>
</html>